<!DOCTYPE html>
<html lang="{{#if isVietnamese}}vi{{else}}en{{/if}}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{documentTitle}}</title>
  <style>
    {{> pdf-styles}}
  </style>
</head>
<body>
  <div class="pdf-container">
    <!-- Header Section -->
    <header class="pdf-header">
      <div class="header-container">
        <div class="logo-section">
          <img src="{{businessInfo.logoUrl}}" alt="{{companyName}}" class="company-logo" onerror="this.style.display='none';" onload="this.style.display='block';">
          <h1 class="company-name">{{companyName}}</h1>
        </div>
        <div class="document-title">
          <h1>{{orderConfirmationTitle}}</h1>
          <p class="order-number">{{orderNumberLabel}}: <strong>{{orderNumber}}</strong></p>
          <p class="order-date">{{orderDateLabel}}: <strong>{{formattedOrderDate}}</strong></p>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="pdf-content">
      <!-- Customer Information Section -->
      <div class="order-info-section">
        <div class="customer-info">
          <h3>{{customerInformationTitle}}</h3>
          <p><strong>{{nameLabel}}:</strong> {{customerInfo.name}}</p>
          <p><strong>{{emailLabel}}:</strong> {{customerInfo.email}}</p>
          {{#if customerInfo.phone}}
            <p><strong>{{phoneLabel}}:</strong> {{formattedPhone}}</p>
          {{/if}}
        </div>

        <!-- Addresses Section -->
        <div class="addresses-section">
          <div class="shipping-address">
            <h4>{{shippingAddressTitle}}</h4>
            <div class="address-content">
              {{formattedShippingAddressLines}}
            </div>
          </div>

          <div class="billing-address">
            <h4>{{billingAddressTitle}}</h4>
            <div class="address-content">
              {{formattedBillingAddressLines}}
            </div>
          </div>
        </div>
      </div>

      <!-- Order Items Section -->
      <div class="order-items-section">
        <h3>{{orderItemsTitle}}</h3>
        <table class="items-table">
          <thead>
            <tr>
              <th>{{productLabel}}</th>
              <th>{{skuLabel}}</th>
              <th>{{quantityLabel}}</th>
              <th>{{unitPriceLabel}}</th>
              <th>{{totalLabel}}</th>
            </tr>
          </thead>
          <tbody>
            {{#each items}}
              <tr>
                <td>
                  <div class="product-info">
                    {{#if this.imageUrl}}
                      <img src="{{this.imageUrl}}" alt="{{this.name}}" class="product-image" onerror="this.style.display='none';">
                    {{/if}}
                    <span class="product-name">{{this.name}}</span>
                  </div>
                </td>
                <td>{{this.sku}}</td>
                <td>{{this.quantity}}</td>
                <td>{{this.formattedUnitPrice}}</td>
                <td>{{this.formattedTotalPrice}}</td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>

      <!-- Order Summary Section -->
      <div class="order-summary-section">
        <h3>{{orderSummaryTitle}}</h3>
        <table class="summary-table">
          <tr>
            <td>{{subtotalLabel}}:</td>
            <td>{{formattedSubtotal}}</td>
          </tr>
          <tr>
            <td>{{shippingLabel}}:</td>
            <td>{{formattedShippingCost}}</td>
          </tr>
          {{#if pricing.taxAmount}}
            <tr>
              <td>{{taxLabel}}:</td>
              <td>{{formattedTaxAmount}}</td>
            </tr>
          {{/if}}
          {{#if pricing.discountAmount}}
            <tr>
              <td>{{discountLabel}}:</td>
              <td>-{{formattedDiscountAmount}}</td>
            </tr>
          {{/if}}
          <tr class="total-row">
            <td><strong>{{totalLabel}}:</strong></td>
            <td><strong>{{formattedTotal}}</strong></td>
          </tr>
        </table>
      </div>

      <!-- Payment Information Section -->
      <div class="payment-info-section">
        <h3>{{paymentInformationTitle}}</h3>
        <div class="payment-details">
          <p><strong>{{paymentMethodLabel}}:</strong> {{paymentMethod.displayName}}</p>
          <p><strong>{{paymentStatusLabel}}:</strong> {{formattedPaymentStatus}}</p>

          {{#if paymentMethod.details}}
            <p><strong>{{paymentDetailsLabel}}:</strong> {{paymentMethod.details}}</p>
          {{/if}}

          {{#if paymentMethod.instructions}}
            <div class="payment-instructions">
              <p><strong>{{paymentInstructionsLabel}}:</strong></p>
              <p>{{paymentMethod.instructions}}</p>
            </div>
          {{/if}}

          {{#if paymentMethod.qrCodeUrl}}
            <div class="qr-code-section">
              <p><strong>{{paymentQRCodeLabel}}:</strong></p>
              <img src="{{paymentMethod.qrCodeUrl}}" alt="{{paymentQRCodeLabel}}" class="qr-code">
            </div>
          {{/if}}
        </div>
      </div>

      <!-- Shipping Information Section -->
      <div class="shipping-info-section">
        <h3>{{shippingInformationTitle}}</h3>
        <div class="shipping-details">
          <p><strong>{{shippingMethodLabel}}:</strong> {{shippingMethod.name}}</p>

          {{#if shippingMethod.description}}
            <p><strong>{{descriptionLabel}}:</strong> {{shippingMethod.description}}</p>
          {{/if}}

          {{#if shippingMethod.estimatedDelivery}}
            <p><strong>{{estimatedDeliveryLabel}}:</strong> {{formattedEstimatedDelivery}}</p>
          {{/if}}

          {{#if shippingMethod.trackingNumber}}
            <p><strong>{{trackingNumberLabel}}:</strong> {{shippingMethod.trackingNumber}}</p>
          {{/if}}

          {{#if shippingMethod.carrier}}
            <p><strong>{{carrierLabel}}:</strong> {{shippingMethod.carrier}}</p>
          {{/if}}
        </div>
      </div>
    </main>

    <!-- Footer Section -->
    <footer class="pdf-footer">
      <div class="footer-content">
        <div class="business-info">
          <h4>{{termsAndConditionsTitle}}</h4>
          <p>{{businessInfo.termsAndConditions}}</p>

          <h4>{{returnPolicyTitle}}</h4>
          <p>{{businessInfo.returnPolicy}}</p>
        </div>

        <div class="contact-info">
          <h4>{{contactUsLabel}}</h4>
          <p>{{websiteLabel}}: {{businessInfo.website}}</p>
          <p>{{emailLabel}}: {{businessInfo.contactEmail}}</p>
          {{#if businessInfo.contactPhone}}
            <p>{{phoneLabel}}: {{businessInfo.contactPhone}}</p>
          {{/if}}
        </div>
      </div>

      <div class="thank-you-message">
        <p>{{thankYouMessage}}</p>
      </div>
    </footer>
  </div>
</body>
</html>